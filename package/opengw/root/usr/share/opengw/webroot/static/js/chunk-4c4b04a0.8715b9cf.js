(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c4b04a0"],{9691:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-container"},[s("el-row",{attrs:{gutter:20}},[s("el-button",{staticStyle:{float:"right","margin-bottom":"20px"},attrs:{type:"primary"},on:{click:function(e){return t.getNetWorkList()}}},[t._v("刷新")])],1),t._v(" "),s("el-row",{attrs:{gutter:20}},t._l(t.NetworkParam,(function(e,a){return s("el-col",{key:a,attrs:{xs:24,sm:12,md:6}},[s("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[t._v(t._s(e.Name))]),t._v(" "),s("el-tag",{attrs:{type:t._f("configFilter")(e.ConfigParam)}},[t._v(t._s(t._f("configNameFilter")(e.ConfigParam)))]),t._v(" "),s("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(s){return t.getConfigParam(e)}}},[t._v("网络偏好配置")])],1),t._v(" "),s("el-row",{staticClass:"text item"},[s("el-col",{staticStyle:{"text-align":"right"},attrs:{xs:8,sm:8,md:8}},[s("span",[t._v("MTU：")])]),t._v(" "),s("el-col",{attrs:{xs:16,sm:16,md:16}},[t._v("\n            "+t._s(e.MTU)+"\n          ")])],1),t._v(" "),s("el-row",{staticClass:"text item"},[s("el-col",{staticStyle:{"text-align":"right"},attrs:{xs:8,sm:8,md:8}},[s("span",[t._v("MAC地址：")])]),t._v(" "),s("el-col",{attrs:{xs:16,sm:16,md:16}},[t._v("\n            "+t._s(e.MAC)+"\n          ")])],1),t._v(" "),s("el-row",{staticClass:"text item"},[s("el-col",{staticStyle:{"text-align":"right"},attrs:{xs:8,sm:8,md:8}},[s("span",[t._v("网卡标志：")])]),t._v(" "),s("el-col",{attrs:{xs:16,sm:16,md:16}},[t._v("\n            "+t._s(e.Flags)+"\n          ")])],1),t._v(" "),s("el-row",{staticClass:"text item"},[s("el-col",{staticStyle:{"text-align":"right"},attrs:{xs:8,sm:8,md:8}},[s("span",[t._v("网络地址：")])]),t._v(" "),s("el-col",{attrs:{xs:16,sm:16,md:16}},[t._v("\n            "+t._s(e.IP)+"\n          ")])],1),t._v(" "),s("el-row",{staticClass:"text item"},[s("el-col",{staticStyle:{"text-align":"right"},attrs:{xs:8,sm:8,md:8}},[s("span",[t._v("子网掩码：")])]),t._v(" "),s("el-col",{attrs:{xs:16,sm:16,md:16}},[t._v("\n            "+t._s(e.Netmask)+"\n          ")])],1),t._v(" "),s("el-row",{staticClass:"text item"},[s("el-col",{staticStyle:{"text-align":"right"},attrs:{xs:8,sm:8,md:8}},[s("span",[t._v("默认网关：")])]),t._v(" "),s("el-col",{attrs:{xs:16,sm:16,md:16}},[t._v("\n            "+t._s(e.Gateway)+"\n          ")])],1)],1)],1)})),1),t._v(" "),s("el-dialog",{attrs:{title:t.title,visible:t.editVisible,width:"30%"},on:{"update:visible":function(e){t.editVisible=e}}},[s("el-form",{ref:"form",attrs:{model:t.form,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"网卡名称"}},[s("el-input",{attrs:{disabled:!0},model:{value:t.form.Name,callback:function(e){t.$set(t.form,"Name",e)},expression:"form.Name"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"启用配置"}},[s("el-switch",{model:{value:t.form.ConfigEnable,callback:function(e){t.$set(t.form,"ConfigEnable",e)},expression:"form.ConfigEnable"}})],1),t._v(" "),t.form.ConfigEnable?s("el-form-item",{attrs:{label:"获取方式"}},[s("el-radio-group",{on:{change:t.changeDHCP},model:{value:t.form.DHCPEnable,callback:function(e){t.$set(t.form,"DHCPEnable",e)},expression:"form.DHCPEnable"}},[s("el-radio-button",{attrs:{label:!0}},[t._v("自动获取")]),t._v(" "),s("el-radio-button",{attrs:{label:!1}},[t._v("手动设置")])],1)],1):t._e(),t._v(" "),t.form.ConfigEnable?s("el-form-item",{attrs:{label:"IP地址"}},[s("el-input",{attrs:{disabled:t.form.DHCPEnable},model:{value:t.form.ConfigIP,callback:function(e){t.$set(t.form,"ConfigIP",e)},expression:"form.ConfigIP"}})],1):t._e(),t._v(" "),t.form.ConfigEnable?s("el-form-item",{attrs:{label:"子网掩码"}},[s("el-input",{attrs:{disabled:t.form.DHCPEnable},model:{value:t.form.ConfigNetmask,callback:function(e){t.$set(t.form,"ConfigNetmask",e)},expression:"form.ConfigNetmask"}})],1):t._e(),t._v(" "),t.form.ConfigEnable?s("el-form-item",{attrs:{label:"默认网关"}},[s("el-input",{attrs:{disabled:t.form.DHCPEnable},model:{value:t.form.ConfigGateway,callback:function(e){t.$set(t.form,"ConfigGateway",e)},expression:"form.ConfigGateway"}})],1):t._e()],1),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.editVisible=!1,t.getNetWorkList()}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.saveEditNetWork}},[t._v("确 定")])],1)],1)],1)},o=[],i=(s("96cf"),s("3b8d")),r={filters:{configFilter:function(t){var e=t.ConfigEnable,s={true:"success",false:"gray"};return s[e]||"info"},configNameFilter:function(t){var e=t.ConfigEnable,s={true:"已配置",false:"未配置"};return s[e]||"未知"}},data:function(){return{list:null,listLoading:!0,editVisible:!1,mode:"",title:"",form:{},NetworkParam:[]}},created:function(){this.getNetWorkList()},methods:{getNetWorkList:function(){var t=this,e="";e="./api/v1/network/param",this.$axios({method:"get",url:e,headers:{token:this.$store.getters.token}}).then((function(e){var s=e.data;"0"===s.Code?(t.NetworkParam=s.Data,t.$message.success("获取网口列表信息成功")):"1"===s.Code?t.$message.error(s.Message):"-1"===s.Code?(t.$message.error(s.Message),t.$store.dispatch("user/resetToken"),t.$router.push("/login?redirect=".concat(t.$route.fullPath))):t.$message.error("返回未知错误，错误码："+s.Code)})).catch((function(e){t.$message.error("出错了"+e)}))},getConfigParam:function(t){var e=t.ConfigParam;e&&(this.$set(this.form,"ConfigEnable",e.ConfigEnable),this.$set(this.form,"DHCPEnable",e.DHCPEnable),this.$set(this.form,"Name",t.Name),this.$set(this.form,"ConfigIP",e.ConfigIP),this.$set(this.form,"ConfigNetmask",e.ConfigNetmask),this.$set(this.form,"ConfigGateway",e.ConfigGateway)),this.editVisible=!0,this.title="网络偏好配置",this.mode="put"},addNetWork:function(){this.form={},this.editVisible=!0,this.title="添加网口",this.mode="post"},changeDHCP:function(t){var e=this;!0===t&&(this.$set(e.form,"ConfigIP",""),this.$set(e.form,"ConfigNetmask",""),this.$set(e.form,"ConfigGateway",""))},reBootSYS:function(){var t=this;this.$messageBox.confirm("你是否要重启系统，立即生效？","重启系统",{confirmButtonText:"是，立即重启",cancelButtonText:"否，稍后重启",center:!0,dangerouslyUseHTMLString:!0,type:"info"}).then((function(e){"confirm"===e&&t.logout()})).catch((function(e){"cancel"===e&&t.getNetWorkList()}))},logout:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("user/logout");case 2:this.$router.push("/login?redirect=".concat(this.$route.fullPath));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),deleteNetWork:function(t){var e=this,s={};s.Name=t.Name,this.$axios({method:"delete",url:"./api/v1/network/param",data:s,headers:{token:this.$store.getters.token}}).then((function(t){e.getNetWorkList()})).catch((function(t){e.$message.error("出错了"+JSON.stringify(t))}))},saveEditNetWork:function(){var t=this;!0===this.form.DHCPEnable&&(this.form.ConfigIP="",this.form.ConfigNetmask="",this.form.ConfigGateway="");var e="";e="./api/v1/network/param",this.$axios({method:t.mode,url:e,data:t.form,headers:{token:this.$store.getters.token}}).then((function(e){t.editVisible=!1,t.reBootSYS()})).catch((function(e){t.$message.error("出错了"+JSON.stringify(e))}))}}},n=r,l=(s("fc41"),s("2877")),f=Object(l["a"])(n,a,o,!1,null,null,null);e["default"]=f.exports},a54f:function(t,e,s){},fc41:function(t,e,s){"use strict";var a=s("a54f"),o=s.n(a);o.a}}]);